.data
val:    .word       512
v1:     .double     1.11, 2.22, 3.33, 4.44, 1.11, 2.22, 3.33, 4.44
        .double     1.11, 2.22, 3.33, 4.44, 1.11, 2.22, 3.33, 4.44
        .double     1.11, 2.22, 3.33, 4.44, 1.11, 2.22, 3.33, 4.44
        .double     1.11, 2.22, 3.33, 4.44, 1.11, 2.22, 3.33, 4.44
        .double     1.11, 2.22, 3.33, 4.44, 1.11, 2.22, 3.33, 4.44
        .double     1.11, 2.22, 3.33, 4.44, 1.11, 2.22, 3.33, 4.44
        .double     1.11, 2.22, 3.33, 4.44, 1.11, 2.22, 3.33, 4.44
        .double     1.11, 2.22, 3.33, 4.44, 1.11, 2.22, 3.33, 4.44

v2:     .double     0.00, 5.55, 0.00, 6.66, 7.77, 0.00, 8.88, 0.00
        .double     0.00, 5.55, 0.00, 6.66, 7.77, 0.00, 8.88, 0.00
        .double     0.00, 5.55, 0.00, 6.66, 7.77, 0.00, 8.88, 0.00
        .double     0.00, 5.55, 0.00, 6.66, 7.77, 0.00, 8.88, 0.00
        .double     0.00, 5.55, 0.00, 6.66, 7.77, 0.00, 8.88, 0.00
        .double     0.00, 5.55, 0.00, 6.66, 7.77, 0.00, 8.88, 0.00
        .double     0.00, 5.55, 0.00, 6.66, 7.77, 0.00, 8.88, 0.00
        .double     0.00, 5.55, 0.00, 6.66, 7.77, 0.00, 8.88, 0.00

v3:     .double     7.77, 0.00, 8.88, 0.00, 0.00, 5.55, 0.00, 6.66
        .double     7.77, 0.00, 8.88, 0.00, 0.00, 5.55, 0.00, 6.66
        .double     7.77, 0.00, 8.88, 0.00, 0.00, 5.55, 0.00, 6.66
        .double     7.77, 0.00, 8.88, 0.00, 0.00, 5.55, 0.00, 6.66
        .double     7.77, 0.00, 8.88, 0.00, 0.00, 5.55, 0.00, 6.66
        .double     7.77, 0.00, 8.88, 0.00, 0.00, 5.55, 0.00, 6.66
        .double     7.77, 0.00, 8.88, 0.00, 0.00, 5.55, 0.00, 6.66
        .double     7.77, 0.00, 8.88, 0.00, 0.00, 5.55, 0.00, 6.66

v4:     .double     9.99,10.10,11.11,12.12, 9.99,10.10,11.11,12.12
        .double     9.99,10.10,11.11,12.12, 9.99,10.10,11.11,12.12
        .double     9.99,10.10,11.11,12.12, 9.99,10.10,11.11,12.12
        .double     9.99,10.10,11.11,12.12, 9.99,10.10,11.11,12.12
        .double     9.99,10.10,11.11,12.12, 9.99,10.10,11.11,12.12
        .double     9.99,10.10,11.11,12.12, 9.99,10.10,11.11,12.12
        .double     9.99,10.10,11.11,12.12, 9.99,10.10,11.11,12.12
        .double     9.99,10.10,11.11,12.12, 9.99,10.10,11.11,12.12

v5:     .double     0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00
        .double     0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00
        .double     0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00
        .double     0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00
        .double     0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00
        .double     0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00
        .double     0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00
        .double     0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00

v6:     .double     0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00
        .double     0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00
        .double     0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00
        .double     0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00
        .double     0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00
        .double     0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00
        .double     0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00
        .double     0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00

v7:     .double     0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00
        .double     0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00
        .double     0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00
        .double     0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00
        .double     0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00
        .double     0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00
        .double     0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00
        .double     0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00

.text
main:   
    daddi R1, R0, 0                     ; indice vettore
    lw R2, val(R1)                      ; num valori

loop:
    l.d F1, v1(R1)
    l.d F2, v2(R1)
    l.d F3, v3(R1)
    l.d F4, v4(R1)

    mul.d F5, F1, F2
    add.d F5, F5, F3
    add.d F5, F5, F4

    add.d F6, F4, F1
    div.d F6, F5, F6

    add.d F7, F2, F3
    mul.d F7, F6, F7

    s.d F5, v5(R1)
    s.d F6, v6(R1)
    s.d F7, v7(R1)

    daddi R1, R1, 8
    bne R1, R2, loop

    halt
